<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Quantum AI</title>
    <link rel="stylesheet" href="style.css">

    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;500;600&family=Roboto:wght@400;500&display=swap"
        rel="stylesheet">
    <link rel="stylesheet"
        href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />

    <!-- Code Highlighting and Math -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/github-dark.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css">
</head>

<body>

    <!-- Overlay for mobile sidebar -->
    <div class="sidebar-overlay" id="sidebarOverlay"></div>

    <div class="app-layout">
        <!-- SIDEBAR -->
        <aside class="sidebar" id="sidebar">
            <div class="sidebar-header">
                <button class="icon-btn sidebar-toggle-desktop" title="Collapse menu">
                    <span class="material-symbols-outlined">menu</span>
                </button>
            </div>

            <div class="new-chat-wrapper">
                <button class="new-chat-btn" id="newChatBtn">
                    <span class="material-symbols-outlined plus-icon">add</span>
                    <span class="text">New chat</span>
                </button>
            </div>

            <div class="recent-chats">
                <h3 class="section-title">Recent</h3>
                <div class="chat-list" id="recentChatsList">
                    <!-- JS renders history here -->
                </div>
            </div>

            <div class="sidebar-footer">
                <button class="nav-item" id="helpBtn">
                    <span class="material-symbols-outlined nav-icon">help</span>
                    <span class="text">Help</span>
                </button>
                <button class="nav-item" id="activityBtn">
                    <span class="material-symbols-outlined nav-icon">history</span>
                    <span class="text">Activity</span>
                </button>
                <button class="nav-item" id="settingsBtn">
                    <span class="material-symbols-outlined nav-icon">settings</span>
                    <span class="text">Settings</span>
                </button>
                <button class="nav-item theme-btn" id="themeToggleBtn">
                    <span class="material-symbols-outlined nav-icon" id="themeIcon">light_mode</span>
                    <span class="text">Theme</span>
                </button>
            </div>
        </aside>

        <!-- MAIN CONTENT AREA -->
        <main class="main-view">
            <!-- HEADER -->
            <header class="top-header">
                <div class="header-left">
                    <button class="icon-btn mobile-menu-toggle" id="mobileMenuBtn">
                        <span class="material-symbols-outlined">menu</span>
                    </button>
                    <div class="model-selector" id="topModelDropdownBtn">
                        <span class="model-name">Quantum AI</span>
                        <span class="material-symbols-outlined drop-icon">arrow_drop_down</span>
                    </div>
                </div>

                <div class="header-right">
                    <div class="pro-tag">
                        <div class="sparkle-icon"></div>
                        <span class="pro-text">Quantum AI Pro</span>
                    </div>
                    <img src="https://ui-avatars.com/api/?name=User&background=333&color=fff&rounded=true" alt="User"
                        class="user-avatar" id="userAvatar">
                </div>
            </header>

            <!-- CHAT / CONTENT CONTAINER -->
            <div class="scrollable-content" id="scrollableContent">

                <!-- Welcome Screen -->
                <div class="welcome-container" id="welcomeScreen">
                    <div class="greeting-box">
                        <h1 class="gradient-text">Hello, User</h1>
                        <h2 class="sub-greeting">How can I help you today?</h2>
                    </div>

                    <div class="suggestions-grid">
                        <div class="suggestion-card">
                            <p>Draft a polite email to decline an invitation</p>
                            <span class="material-symbols-outlined card-icon">draw</span>
                        </div>
                        <div class="suggestion-card">
                            <p>Write an outline for a presentation on machine learning</p>
                            <span class="material-symbols-outlined card-icon">lightbulb</span>
                        </div>
                        <div class="suggestion-card">
                            <p>Help me understand a complex topic like quantum computing</p>
                            <span class="material-symbols-outlined card-icon">school</span>
                        </div>
                        <div class="suggestion-card">
                            <p>Plan a 3-day trip to Kyoto, Japan</p>
                            <span class="material-symbols-outlined card-icon">flight_takeoff</span>
                        </div>
                    </div>
                </div>

                <!-- Chat Thread -->
                <div class="chat-thread" id="chatThread" style="display: none;">
                    <!-- JS renders messages here -->
                </div>
            </div>

            <!-- INPUT AREA -->
            <div class="input-area-wrapper">
                <div class="input-bar">
                    <button class="action-btn" id="micBtn" title="Use microphone">
                        <span class="material-symbols-outlined">mic</span>
                    </button>

                    <div class="textarea-wrapper">
                        <textarea id="promptInput" rows="1" placeholder="Enter a prompt here"></textarea>
                    </div>

                    <button class="action-btn submit-btn" id="sendBtn" title="Send message">
                        <span class="material-symbols-outlined">send</span>
                    </button>
                </div>
                <p class="disclaimer">Quantum AI can make mistakes. Check important info.</p>
            </div>
        </main>
    </div>

    <!-- TOAST -->
    <div id="toastContainer" class="toast-wrapper"></div>

    <!-- Modals (Settings, Help, Activity) -->
    <div class="modal-backdrop" id="settingsModal" style="display: none;">
        <div class="modal-dialog">
            <div class="modal-top">
                <h3>Settings</h3>
                <button class="icon-btn close-modal"><span class="material-symbols-outlined">close</span></button>
            </div>
            <div class="modal-content">
                <div class="form-group">
                    <label>Select Model:</label>
                    <select id="modelSelect" class="styled-select">
                        <option value="llama-3.3-70b-versatile">Llama 3.3 70B Versatile (Recommended)</option>
                        <option value="llama-3.1-8b-instant">Llama 3.1 8B Instant</option>
                        <option value="meta-llama/llama-4-scout-17b-16e-instruct">Llama 4 Scout 17B</option>
                        <option value="meta-llama/llama-4-maverick-17b-128e-instruct">Llama 4 Maverick 17B</option>
                        <option value="qwen/qwen3-32b">Qwen 3 32B</option>
                        <option value="moonshotai/kimi-k2-instruct">Kimi K2 Instruct</option>
                        <option value="groq/compound">Groq Compound Processing</option>
                        <option value="openai/gpt-oss-120b">GPT OSS 120B</option>
                    </select>
                </div>
            </div>
            <div class="modal-actions">
                <button class="primary-btn" id="saveSettingsBtn">Save Settings</button>
            </div>
        </div>
    </div>

    <div class="modal-backdrop" id="helpModal" style="display: none;">
        <div class="modal-dialog">
            <div class="modal-top">
                <h3>Help Center</h3>
                <button class="icon-btn close-modal"><span class="material-symbols-outlined">close</span></button>
            </div>
            <div class="modal-content">
                <ul>
                    <li><strong>Enter</strong> to send message</li>
                    <li><strong>Shift+Enter</strong> for new line</li>
                    <li>Toggle Light/Dark mode in sidebar</li>
                </ul>
            </div>
        </div>
    </div>

    <div class="modal-backdrop" id="activityModal" style="display: none;">
        <div class="modal-dialog">
            <div class="modal-top">
                <h3>Activity Log</h3>
                <button class="icon-btn close-modal"><span class="material-symbols-outlined">close</span></button>
            </div>
            <div class="modal-content" id="activityLogContent">
                <!-- JS populated -->
            </div>
        </div>
    </div>

    <template id="loadingTemplate">
        <div class="message-row bot-row loading-row">
            <div class="bot-avatar sparkle-spin"></div>
            <div class="typing-indicator">
                <span></span><span></span><span></span>
            </div>
        </div>
    </template>

    <!-- External Libraries -->
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/marked-katex-extension/lib/index.umd.js"></script>

    <script src="script.js"></script>
</body>

</html>